import b from"./Icon.29c4888e.js";import{_ as D}from"./BaseButton.vue.dca65efd.js";/* empty css                       */import L from"./TagPosts.343f3397.js";import{d as V,C as z,E as x,s as P,a3 as q,k as n,a as i,e as f,w as k,b as e,a0 as B,a1 as C,l as g,o as s,f as T,F as A,t as E,c as F,p as H,g as K,h as M}from"./entry.0cade926.js";import{u as $}from"./asyncData.1d0ae75c.js";import{q as I}from"./query.4c64c992.js";import{a as R}from"./index.00a9f083.js";import"./config.9d9d5f2c.js";import"./Icon.vue.83c5577b.js";import"./nuxt-link.6c252b2c.js";import"./formatDate.d39962da.js";/* empty css                     */import"./utils.876aaf0c.js";const j=l=>(H("data-v-5d8c7c91"),l=l(),K(),l),G={class:"blog-layout"},J={class:"blog-layout__content"},O={class:"content-area flow"},Q=j(()=>i("h1",null,"Blog",-1)),U={class:"top-wrap"},W={key:0,class:"tag-list"},X={key:1,class:"post-item"},Y={key:2},Z=V({__name:"index",async setup(l){let t,_;const d=z(!1),{data:m,pending:h,refresh:tt}=([t,_]=x(()=>$("/posts",()=>I("/posts").only(["_path","title","description","date","tags","draft"]).where([{type:"post"},{draft:{$ne:!0}}]).sort({date:-1}).find())),t=await t,_(),t),{data:N}=([t,_]=x(()=>$("tags",()=>I("/posts").only("tags").where([{type:"post"},{draft:{$ne:!0}}]).find())),t=await t,_(),t),y=(v,c)=>v.map(o=>{let p=o;return o[c]&&(p=y(o[c])),p}).flat(1),S=[...new Set(y(N.value,"tags"))];R();const r=P().public;return q({title:`Blog — ${r.siteTitle}`,meta:[{name:"description",content:r.siteDesc},{name:"og:title",content:`Blog — ${r.siteTitle}`},{name:"og:description",content:r.siteDesc},{name:"og:image",content:r.cover}]}),(v,c)=>{const w=b,o=D,p=L;return s(),n("main",null,[i("div",G,[i("div",J,[i("div",O,[Q,i("div",U,[f(o,{onClick:c[0]||(c[0]=a=>d.value=!e(d)),variant:"outline",size:"md",color:"primary"},{default:k(()=>[T(" Tags "),f(w,{class:A([e(d)?"rotate-180":""]),name:"ri:arrow-down-line"},null,8,["class"])]),_:1})]),e(d)?(s(),n("div",W,[(s(),n(B,null,C(S,(a,u)=>i("span",{class:"tag-item",key:u},[f(o,{to:"/tags/"+a,variant:"solid",size:"sm",color:"primary"},{default:k(()=>[T(E(a),1)]),_:2},1032,["to"])])),64))])):g("",!0),e(m).length>0&&!e(h)?(s(),n("div",X,[(s(!0),n(B,null,C(e(m),(a,u)=>(s(),F(p,{key:u,data:a},null,8,["data"]))),128))])):g("",!0),e(m).length<=0&&!e(h)?(s(),n("div",Y," No articles. ")):g("",!0)])])])])}}});const ft=M(Z,[["__scopeId","data-v-5d8c7c91"]]);export{ft as default};

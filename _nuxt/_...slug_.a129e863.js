import{_ as q}from"./nuxt-link.6ca14062.js";import z from"./Toc.cfe38918.js";import F from"./ContentRendererMarkdown.06bcf23a.js";import O from"./ContentRenderer.5489ca73.js";import P from"./Icon.30fc9195.js";import{_ as U}from"./BaseButton.vue.2c070932.js";/* empty css                       */import{d as I,a2 as B,E as D,o as a,k as i,b as e,c as g,w as m,e as c,f as y,l as d,h as S,s as j,aa as G,a3 as J,a as n,t as $,a0 as K,a1 as Q,p as W,g as X}from"./entry.db12a99f.js";import{q as A}from"./query.20aa5e0c.js";/* empty css                              */import{u as Y}from"./asyncData.c81cf0db.js";import{f as Z}from"./formatDate.d39962da.js";/* empty css                */import"./config.fee23f7c.js";import"./Icon.vue.43457ca6.js";import"./index.a6ef77ff.js";import"./utils.b41f0dba.js";const tt={class:"article-navigation"},et=I({__name:"ArticleNavigation",async setup(_){let s,l;const{path:v}=B(),[r,o]=([s,l]=D(()=>A("/posts").only(["_path","title"]).sort({date:-1}).where([{type:"post"},{draft:{$ne:!0}}]).findSurround({_path:v})),s=await s,l(),s);return(t,k)=>{const p=P,u=U;return a(),i("div",tt,[e(o)?(a(),g(u,{key:0,to:e(o)._path,title:e(o).title,class:"prev-button",variant:"outline",size:"md",color:"primary"},{default:m(()=>[c(p,{name:"ri:arrow-left-line"}),y(" Назад ")]),_:1},8,["to","title"])):d("",!0),e(r)?(a(),g(u,{key:1,to:e(r)._path,title:e(r).title,class:"next-button",variant:"outline",size:"md",color:"primary"},{default:m(()=>[y(" Вперед "),c(p,{name:"ri:arrow-right-line"})]),_:1},8,["to","title"])):d("",!0)])}}}),ot=S(et,[["__scopeId","data-v-f1cf9aa5"]]),h=_=>(W("data-v-26320dbf"),_=_(),X(),_),nt={class:"article-page"},st={class:"article-layout"},at={class:"article-meta"},rt={key:0,class:"article-meta-block"},it=h(()=>n("h4",{class:"eyebrow"},"Опубликовано",-1)),ct={key:1,class:"article-meta-block"},_t=h(()=>n("h4",{class:"eyebrow"},"Tags",-1)),lt={class:"tag-list"},pt={class:"article-header"},ut=["innerHTML"],mt=h(()=>n("h1",null,"No Content",-1)),dt=h(()=>n("p",null,"No content found.",-1)),ht=I({__name:"[...slug]",async setup(_){var x,w,b,C,N,T;let s,l;const r=B().path.replace(/\/$/,""),o=j().public,{data:t,error:k}=([s,l]=D(()=>Y(`content-${r}`,()=>A().where({_path:r}).findOne())),s=await s,l(),s);if(k.value)throw G({statusCode:404,statusMessage:"Not Found",fatal:!0});const p=(x=t==null?void 0:t.value)!=null&&x.title?(w=t==null?void 0:t.value)==null?void 0:w.title:o.siteTitle,u=(b=t==null?void 0:t.value)!=null&&b.description?(C=t==null?void 0:t.value)==null?void 0:C.description:o.siteDesc,L=(N=t==null?void 0:t.value)!=null&&N.img?(T=t==null?void 0:t.value)==null?void 0:T.img:o.cover;return J({title:p+" | "+o.siteTitle,meta:[{hid:"description",name:"description",content:u},{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:o.siteUrl+t.value._path},{hid:"og:title",property:"og:title",content:p+" | "+o.siteTitle},{hid:"og:description",property:"og:description",content:u},{hid:"og:image",property:"og:image",content:L}]}),(ft,gt)=>{const M=q,R=z,V=F,E=O,H=ot;return a(),i("main",nt,[n("article",st,[n("aside",at,[e(t).date?(a(),i("div",rt,[it,n("p",null,$(e(Z)(e(t).date)),1)])):d("",!0),e(t).tags?(a(),i("div",ct,[_t,n("ul",lt,[(a(!0),i(K,null,Q(e(t).tags,f=>(a(),i("li",{key:f},[c(M,{to:"/tags/"+f,class:"hover:underline"},{default:m(()=>[y("#"+$(f),1)]),_:2},1032,["to"])]))),128))])])):d("",!0),e(t).body.toc.links!=0?(a(),g(R,{key:2,links:e(t).body.toc.links},null,8,["links"])):d("",!0)]),n("header",pt,[n("h1",{innerHTML:e(t).title},null,8,ut)]),c(E,{value:e(t)},{empty:m(()=>[mt,dt]),default:m(()=>[c(V,{class:"article-body flow",ref:"nuxtContent",value:e(t)},null,8,["value"])]),_:1},8,["value"]),c(H,{class:"prev-next"})])])}}});const Rt=S(ht,[["__scopeId","data-v-26320dbf"]]);export{Rt as default};

{"_path":"/posts/wire-hole","_dir":"posts","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Wireguard, pihole, unbound | предотвращаем утечку dns","description":"Смотри видео с детальной настройкой youtube.com.","date":"2022-12-17T00:00:00.000Z","type":"post","tags":["vpn","network"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Смотри видео с детальной настройкой "},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=iTozi7KE904","rel":["nofollow"]},"children":[{"type":"text","value":"youtube.com"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"45.138.72.135\nroot\n747AuBOZ7WNt\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"45.138.72.135\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"root\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"747AuBOZ7WNt"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"unbound"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"wireguard"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"pihole"}]}]},{"type":"element","tag":"code","props":{"code":"apt install wg...\n\n\nwget https://raw.githubusercontent.com/burghardt/easy-wg-quick/master/easy-wg-quick\nchmod +x easy-wg-quick\n./easy-wg-quick\n\nsudo cp wghub.conf /etc/wireguard/wghub.conf\nsudo systemctl enable --now wg-quick@wghub\n\n# new client\n./easy-wg-quick bla\nsudo cp -r wghub.conf /etc/wireguard/wghub.conf\nsudo systemctl restart wg-quick@wghub\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"apt"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"install"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"wg...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"wget"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"https://raw.githubusercontent.com/burghardt/easy-wg-quick/master/easy-wg-quick\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"chmod"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"+x"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"easy-wg-quick\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"/easy-wg-quick\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"cp"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"wghub.conf"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"/etc/wireguard/wghub.conf\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"systemctl"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"enable"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"--now"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"wg-quick@wghub\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# new client\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"/easy-wg-quick"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"bla\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"cp"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"-r"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"wghub.conf"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"/etc/wireguard/wghub.conf\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"systemctl"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"restart"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"wg-quick@wghub"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"sudo wg-quick down ./wghub.conf # if already configured\nsudo wg-quick up ./wghub.conf\nsudo wg show\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"wg-quick"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"down"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"./wghub.conf"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# if already configured\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"wg-quick"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"up"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"./wghub.conf\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"wg"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"show"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"# sudo nano /etc/sysctl.conf\n\nnet.core.default_qdisc = fq\nnet.ipv4.tcp_congestion_control = bbr\nnet.ipv4.ip_forward = 1\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.conf.all.rp_filter = 1\nnet.ipv4.tcp_syncookies = 1\n\n# sudo sysctl -p\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# sudo nano /etc/sysctl.conf\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"net.core.default_qdisc"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"fq\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"net.ipv4.tcp_congestion_control"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"bbr\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"net.ipv4.ip_forward"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"net.ipv4.conf.default.rp_filter"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"net.ipv4.conf.all.rp_filter"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"net.ipv4.tcp_syncookies"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# sudo sysctl -p"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"sudo cat /etc/wireguard/wghub.conf\n# open port\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"cat"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"/etc/wireguard/wghub.conf\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# open port"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"curl -o /var/lib/unbound/root.hints https://www.internic.net/domain/named.cache\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"curl"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"-o"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"/var/lib/unbound/root.hints"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"https://www.internic.net/domain/named.cache"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"# mv access-control: 10.134.99.0/24 > wg network | ip a\n# sudo nano /etc/unbound/unbound.conf.d/pi-hole.conf\n\nserver:\n    # if no logfile is specified, syslog is used\n    # logfile: \"/var/log/unbound/unbound.log\"\n    verbosity: 1\n    port: 5353\n\n    do-ip4: yes\n    do-udp: yes\n    do-tcp: yes\n\n    # may be set to yes if you have IPv6 connectivity\n    do-ip6: no\n\n    # use this only when you downloaded the list of primary root servers\n    root-hints: \"/var/lib/unbound/root.hints\"\n\n    # respond to DNS requests on all interfaces\n    interface: 0.0.0.0\n    max-udp-size: 3072\n\n    # IPs authorised to access the DNS Server\n    access-control: 0.0.0.0/0                 refuse\n    access-control: 127.0.0.1                 allow\n    access-control: 10.134.99.0/24            allow\n\n    # hide DNS Server info\n    hide-identity: yes\n    hide-version: yes\n\n    # limit DNS fraud and use DNSSEC\n    harden-glue: yes\n    harden-dnssec-stripped: yes\n    harden-referral-path: yes\n\n    # add an unwanted reply threshold to clean the cache and avoid, when possible, DNS poisoning\n    unwanted-reply-threshold: 10000000\n\n    # have the validator print validation failures to the log val-log-level: 1\n    # don't use Capitalisation randomisation as it known to cause DNSSEC issues sometimes\n    # see https://discourse.pi-hole.net/t/unbound-stubby-or-dnscrypt-proxy/9378 for further details\n    use-caps-for-id: no\n\n    # reduce EDNS reassembly buffer size\n    # suggested by the unbound man page to reduce fragmentation reassembly problems\n    edns-buffer-size: 1472\n\n    # TTL bounds for cache\n    cache-min-ttl: 3600\n    cache-max-ttl: 86400\n\n    # perform prefetching of close to expired message cache entries\n    # this only applies to domains that have been frequently queried\n    prefetch: yes\n    prefetch-key: yes\n    # one thread should be sufficient, can be increased on beefy machines\n    num-threads: 1\n    # ensure kernel buffer is large enough to not lose messages in traffic spikes\n    so-rcvbuf: 1m\n\n    # ensure privacy of local IP ranges\n    private-address: 192.168.0.0/16\n    private-address: 169.254.0.0/16\n    private-address: 172.16.0.0/12\n    private-address: 10.0.0.0/8\n    private-address: fd00::/8\n    private-address: fe80::/10\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# mv access-control: 10.134.99.0/24 > wg network | ip a\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# sudo nano /etc/unbound/unbound.conf.d/pi-hole.conf\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"server:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# if no logfile is specified, syslog is used\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# logfile: \"/var/log/unbound/unbound.log\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"verbosity:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"port:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"5353\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    do-ip4: yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    do-udp: yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    do-tcp: yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# may be set to yes if you have IPv6 connectivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    do-ip6: no\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# use this only when you downloaded the list of primary root servers\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"root-hints:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"\"/var/lib/unbound/root.hints\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# respond to DNS requests on all interfaces\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"interface:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"0.0.0.0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"max-udp-size:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"3072\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# IPs authorised to access the DNS Server\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"access-control:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"0.0.0.0/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"                 "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"refuse\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"access-control:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"127.0.0.1"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"                 "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"allow\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"access-control:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"10.134.99.0/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"24"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"allow\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# hide DNS Server info\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"hide-identity:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"hide-version:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# limit DNS fraud and use DNSSEC\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"harden-glue:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"harden-dnssec-stripped:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"harden-referral-path:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# add an unwanted reply threshold to clean the cache and avoid, when possible, DNS poisoning\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"unwanted-reply-threshold:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"10000000\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# have the validator print validation failures to the log val-log-level: 1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# don't use Capitalisation randomisation as it known to cause DNSSEC issues sometimes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# see https://discourse.pi-hole.net/t/unbound-stubby-or-dnscrypt-proxy/9378 for further details\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"use-caps-for-id:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"no\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# reduce EDNS reassembly buffer size\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# suggested by the unbound man page to reduce fragmentation reassembly problems\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"edns-buffer-size:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"1472\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# TTL bounds for cache\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"cache-min-ttl:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"3600\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"cache-max-ttl:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"86400\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# perform prefetching of close to expired message cache entries\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# this only applies to domains that have been frequently queried\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"prefetch:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"prefetch-key:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# one thread should be sufficient, can be increased on beefy machines\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":59},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"num-threads:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":60},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# ensure kernel buffer is large enough to not lose messages in traffic spikes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":61},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"so-rcvbuf:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"1m\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":62},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":63},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# ensure privacy of local IP ranges\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":64},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"private-address:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"192.168.0.0/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"16\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":65},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"private-address:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"169.254.0.0/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"16\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":66},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"private-address:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"172.16.0.0/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"12\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":67},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"private-address:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"10.0.0.0/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"8\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":68},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"private-address:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"fd00::/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"8\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":69},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"private-address:"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"fe80::/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"10"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"sudo systemctl enable --now unbound\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"systemctl"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"enable"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"--now"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"unbound"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"# intfs  wghub\ncurl -sSL https://install.pi-hole.net | bash\n\nhttp://ip/admin\n\n# Settings - DNS наш Unbound 127.0.0.1#5353\n\n# open port 5353\ndig pi-hole.net @127.0.0.1 -p 5353  # NOERROR\ndig sigok.verteiltesysteme.net @127.0.0.1 -p 5353\ndig sigfail.verteiltesysteme.net @127.0.0.1 -p 5353  # SERFAIL\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# intfs  wghub\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"curl"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"-sSL"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"https://install.pi-hole.net"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdd1fa"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"bash\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"http://ip/admin\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# Settings - DNS наш Unbound 127.0.0.1#5353\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# open port 5353\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"dig"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"pi-hole.net"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"@127.0.0.1"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"-p"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"5353"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# NOERROR\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"dig"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"sigok.verteiltesysteme.net"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"@127.0.0.1"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"-p"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"5353\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"dig"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"sigfail.verteiltesysteme.net"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"@127.0.0.1"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"-p"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"5353"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# SERFAIL"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"# wg client conf dns > wghub | ip a\n# wg\nnano intnetdns.txt\n\n# replace ip 1.1.1.1 default > wghub ip : 10.148.135.1\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# wg client conf dns > wghub | ip a\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# wg\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"nano"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"intnetdns.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# replace ip 1.1.1.1 default > wghub ip : 10.148.135.1"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"# dns wghub ip : 10.148.135.1\n\n# 10: 10 > wgclient_10.conf\n[Interface]\nAddress = 10.148.135.10/24\nDNS = 10.148.135.1\nPrivateKey = oBj9b47cvZaGaCdHQUl1tu6in6L4yoL8hXxUd1EpU1c=\nMTU = 1280\n\n[Peer]\nPublicKey = G7VcOHBqXYFPppKNUZ25RJLjEXEDq+Gsn/jmczX5HB0=\nPresharedKey = LDgByqF8J/TgBI9vE+17aRNWnlJwQoD6i6xZCbwbdBk=\nAllowedIPs = 0.0.0.0/0, ::/0\nEndpoint = 45.138.72.135:44828\nPersistentKeepalive = 25\n\n# open ports\nufw allow ssh\nufw allow 44828/udp\n\n# net\nufw allow 80/tcp\nufw allow 53/udp\n\n# wg\nsudo ufw allow from 10.134.99.0/24 to any port 80\nsudo ufw allow from 10.134.99.0/24 to any port 53\nsudo ufw reject https\n\nss -tulpn\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# dns wghub ip : 10.148.135.1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# 10: 10 > wgclient_10.conf\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"[Interface]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"Address"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"10.148.135.10/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"24\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"DNS"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"10.148.135.1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"PrivateKey"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"oBj9b47cvZaGaCdHQUl1tu6in6L4yoL8hXxUd1EpU1c=\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"MTU"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"1280\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":"[Peer]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"PublicKey"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"G7VcOHBqXYFPppKNUZ25RJLjEXEDq+Gsn/jmczX5HB0=\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"PresharedKey"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"LDgByqF8J/TgBI9vE+17aRNWnlJwQoD6i6xZCbwbdBk=\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"AllowedIPs"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"0.0.0.0/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"::/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"Endpoint"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"45.138.72.135:"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"44828\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"PersistentKeepalive"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"25\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# open ports\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"ufw"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"allow"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"ssh\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"ufw"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"allow"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"44828"}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"/udp\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# net\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"ufw"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"allow"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"80"}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"/tcp\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"ufw"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"allow"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"53"}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"/udp\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-311923"},"children":[{"type":"text","value":"# wg\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"ufw"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"allow"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"10.134.99.0/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"24"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"any"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"port"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"80\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"ufw"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"allow"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"10.134.99.0/"}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"24"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"any"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"port"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"53\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"ufw"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"reject"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22dbaa"},"children":[{"type":"text","value":"https\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-a3d0ba"},"children":[{"type":"text","value":"ss"}]},{"type":"element","tag":"span","props":{"class":"ct-e09d45"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca528e"},"children":[{"type":"text","value":"-tulpn"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"45.138.72.135/admin"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://pi.hole/admin","rel":["nofollow"]},"children":[{"type":"text","value":"http://pi.hole/admin"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://dnsleak.com","rel":["nofollow"]},"children":[{"type":"text","value":"https://dnsleak.com"}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-fdd1fa{color:#FF7B72}\n.ct-311923{color:#8B949E}\n.ct-ca528e{color:#79C0FF}\n.ct-22dbaa{color:#A5D6FF}\n.ct-a3d0ba{color:#FFA657}\n.ct-e09d45{color:#C9D1D9}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:posts:wire-hole.md","_source":"content","_file":"posts/wire-hole.md","_extension":"md"}
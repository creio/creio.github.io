export default (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH){return {data:{"content-/posts/nginx-onion":{_path:"\u002Fposts\u002Fnginx-onion",_dir:"posts",_draft:P,_partial:P,_locale:o,_empty:P,title:"Доступность веб сервера в tor и создание onion домена | Nginx tor onion",description:_,date:"2021-09-13T00:00:00.000Z",type:"post",tags:["dev","webserver"],body:{type:K,children:[{type:a,tag:p,props:{},children:[{type:b,value:_}]},{type:a,tag:L,props:{},children:[{type:a,tag:B,props:{},children:[{type:a,tag:y,props:{href:"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=1ioGn-2JaiM",rel:[C]},children:[{type:b,value:"Video"}]}]}]},{type:a,tag:p,props:{},children:[{type:b,value:"Все действия выполняются на Arch Linux, но суть везде одинакова, разница только в пакетном менеджере."}]},{type:a,tag:L,props:{},children:[{type:a,tag:B,props:{},children:[{type:a,tag:y,props:{href:"https:\u002F\u002Fwww.cloudflare.com\u002F",rel:[C]},children:[{type:b,value:"www.cloudflare.com\u002F"}]}]}]},{type:a,tag:D,props:{id:$},children:[{type:b,value:aa}]},{type:a,tag:p,props:{},children:[{type:b,value:"Локально нужен только tor или tor браузер для доступа к будущему сервису, я буду использовать chromium с прокси портом тора 9050."}]},{type:a,tag:l,props:{code:"yay -S tor chromium\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:ab}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:M}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"chromium"}]}]}]}]}]},{type:a,tag:p,props:{},children:[{type:b,value:"На сервере нужен tor и nginx."}]},{type:a,tag:l,props:{code:"yay -S tor nginx\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:ab}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:M}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:Q}]}]}]}]}]},{type:a,tag:D,props:{id:ad},children:[{type:b,value:ae}]},{type:a,tag:p,props:{},children:[{type:b,value:"Отредактировать конфиг на сервере \u002Fetc\u002Ftor\u002Ftorrc, раскомментировать 2 строки."}]},{type:a,tag:l,props:{code:"sudo nano \u002Fetc\u002Ftor\u002Ftorrc\n\nHiddenServiceDir \u002Fvar\u002Flib\u002Ftor\u002Fhidden_service\u002F\nHiddenServicePort 80 127.0.0.1:80\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:R}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"\u002Fetc\u002Ftor\u002Ftorrc"}]}]},{type:a,tag:g,props:{class:h},children:[]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:"HiddenServiceDir"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:S}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:"HiddenServicePort"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:E}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"127.0.0.1:"}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:E}]}]}]}]}]},{type:a,tag:D,props:{id:af},children:[{type:b,value:ag}]},{type:a,tag:T,props:{},children:[{type:a,tag:p,props:{},children:[{type:b,value:"Генерировать не обязательно, по умолчанию tor сам создает нужные файлы в hidden_service при рестарте, но их можно удалить и создать имя с кастомным началом в hostname. Чем длиннее имя, тем дольше генерация."}]}]},{type:a,tag:L,props:{},children:[{type:a,tag:B,props:{},children:[{type:a,tag:y,props:{href:ah,rel:[C]},children:[{type:b,value:"github.com\u002Fcathugger\u002Fmkp224o"}]}]}]},{type:a,tag:l,props:{code:"git clone https:\u002F\u002Fgithub.com\u002Fcathugger\u002Fmkp224o\ncd mkp224o\n.\u002Fautogen.sh\n.\u002Fconfigure\nmake\n# -t 2  потоки cpu, -n кол-во имен, имя topor\n.\u002Fmkp224o filter topor -t 2 -v -n 1 -d ~\u002Fhs-keys\n#\nscp -r ~\u002Fhs-keys user@123.123.123.123:~\u002F\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:"git"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"clone"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ah}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:j},children:[{type:b,value:"cd"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"mkp224o"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"\u002Fautogen.sh"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"\u002Fconfigure"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:"make"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:u},children:[{type:b,value:"# -t 2  потоки cpu, -n кол-во имен, имя topor"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"\u002Fmkp224o"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"filter"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"topor"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ai}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"2"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"-v"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"-n"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"1"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"-d"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aj}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:u},children:[{type:b,value:"#"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:"scp"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ak}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aj}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"user@123.123.123.123:~\u002F"}]}]}]}]}]},{type:a,tag:T,props:{},children:[{type:a,tag:p,props:{},children:[{type:b,value:"Рекомендую сохранить ключи и hostname."}]}]},{type:a,tag:D,props:{id:al},children:[{type:b,value:am}]},{type:a,tag:p,props:{},children:[{type:b,value:"На сервере после переноса файлов."}]},{type:a,tag:l,props:{code:"ssh user@123.123.123.123\nsudo cp -r ~\u002Fhs-keys\u002F*\u002F* \u002Fvar\u002Flib\u002Ftor\u002Fhidden_service\u002F\nsudo chmod 700 \u002Fvar\u002Flib\u002Ftor\u002Fhidden_service\nsudo chown -R tor:tor \u002Fvar\u002Flib\u002Ftor\u002Fhidden_service\u002F\nsudo systemctl restart tor\nsudo systemctl status tor\nsudo cat \u002Fvar\u002Flib\u002Ftor\u002Fhidden_service\u002Fhostname\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:"ssh"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"user@123.123.123.123"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"cp"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ak}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"~\u002Fhs-keys\u002F"}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:an}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:an}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:S}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"chmod"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"700"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"\u002Fvar\u002Flib\u002Ftor\u002Fhidden_service"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"chown"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"-R"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"tor:tor"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:S}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:M}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"status"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:M}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"cat"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"\u002Fvar\u002Flib\u002Ftor\u002Fhidden_service\u002Fhostname"}]}]}]}]}]},{type:a,tag:D,props:{id:ap},children:[{type:b,value:aq}]},{type:a,tag:T,props:{},children:[{type:a,tag:p,props:{},children:[{type:b,value:"Важный момент, onion работает по http поэтому не нужно использовать редиректы на 443 порт https "},{type:a,tag:y,props:{href:"\u002Fposts\u002Fweb-server"},children:[{type:b,value:"О первоначальной настройке nginx смотри тут"}]},{type:b,value:F}]}]},{type:a,tag:p,props:{},children:[{type:b,value:"Дефолтный конфиг "},{type:a,tag:V,props:{},children:[{type:b,value:"\u002Fetc\u002Fnginx\u002Fnginx.conf"}]},{type:b,value:", можно в секцию server добавить созданный onion домен и он будет выдавать содержимое по умолчанию из "},{type:a,tag:V,props:{},children:[{type:b,value:ar}]},{type:b,value:", в данном случае "},{type:a,tag:V,props:{},children:[{type:b,value:"index.hmtl"}]},{type:b,value:F}]},{type:a,tag:l,props:{code:"# вырезка \u002Fetc\u002Fnginx\u002Fnginx.conf\nserver {\n        listen 80 default_server;\n        listen [::]:80 default_server;\n        server_name ctlos5lhe2vc3giixr.onion;\n\n        root \u002Fusr\u002Fshare\u002Fnginx\u002Fhtml;\n        index index.htm index.html;\n...\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:u},children:[{type:b,value:"# вырезка \u002Fetc\u002Fnginx\u002Fnginx.conf"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:N}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:v}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:E}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:as}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" [::]:80 "}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:as}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"index"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"index.htm"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"index.html"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:j},children:[{type:b,value:"..."}]}]}]}]}]},{type:a,tag:p,props:{},children:[{type:b,value:"Простой конфиг, Nginx выводит содержимое директории."}]},{type:a,tag:l,props:{code:"sudo nano \u002Fetc\u002Fnginx\u002Fsites-available\u002Fonion.conf\nsudo ln -s \u002Fetc\u002Fnginx\u002Fsites-available\u002Fonion.conf \u002Fetc\u002Fnginx\u002Fsites-enabled\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:R}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:at}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"ln"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"-s"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"\u002Fetc\u002Fnginx\u002Fsites-enabled"}]}]}]}]}]},{type:a,tag:l,props:{code:"server {\n  # директория со статикой сайта\n  server_name ctlos5lhe2vc3giixr.onion;\n  root \u002Fhome\u002Fcretm\u002Fapp\u002Fcloud.ctlos.ru;\n  listen 80;\n  listen [::]:80;\n\n  location \u002F {\n    autoindex on;\n    try_files $uri $uri\u002F =404;\n  }\n}\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:N}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:v}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:u},children:[{type:b,value:"# директория со статикой сайта"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:E}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:av}]}]},{type:a,tag:g,props:{class:h},children:[]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:v}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:az}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aA}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:Y}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:Z}]}]}]}]}]},{type:a,tag:p,props:{},children:[{type:b,value:"Проверка и рестарт web сервера."}]},{type:a,tag:l,props:{code:"sudo nginx -t\nsudo systemctl restart nginx\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ai}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:Q}]}]}]}]}]},{type:a,tag:p,props:{},children:[{type:b,value:"Конфиг с 2 доменами и ssl. С указанием Onion-Location, добавляет фиолетовый знак в тор браузере, сайт обязательно должен иметь ssl на основном домене."}]},{type:a,tag:l,props:{code:"sudo nano \u002Fetc\u002Fnginx\u002Fsites-enabled\u002Fonion.conf\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:R}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"\u002Fetc\u002Fnginx\u002Fsites-enabled\u002Fonion.conf"}]}]}]}]}]},{type:a,tag:l,props:{code:"server {\n  server_name dev.ctlos.ru;\n  server_name ctlos5lhe2vc3giixr.onion;\n  root \u002Fhome\u002Fcretm\u002Fapp\u002Fcloud.ctlos.ru;\n\n  listen 80;\n  listen [::]:80;\n\n  listen 443 ssl; # managed by Certbot\n  ssl_certificate \u002Fetc\u002Fletsencrypt\u002Flive\u002Fdev.ctlos.ru\u002Ffullchain.pem; # managed by Certbot\n  ssl_certificate_key \u002Fetc\u002Fletsencrypt\u002Flive\u002Fdev.ctlos.ru\u002Fprivkey.pem; # managed by Certbot\n  include \u002Fetc\u002Fletsencrypt\u002Foptions-ssl-nginx.conf; # managed by Certbot\n  ssl_dhparam \u002Fetc\u002Fletsencrypt\u002Fssl-dhparams.pem; # managed by Certbot\n\n  location \u002F {\n    autoindex on;\n    try_files $uri $uri\u002F =404;\n    add_header Onion-Location \"http:\u002F\u002Fctlos5lhe2vc3giixr.onion$request_uri\" always;\n  }\n}\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:N}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:v}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"dev.ctlos.ru"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:E}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:av}]}]},{type:a,tag:g,props:{class:h},children:[]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"443"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"ssl"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:u},children:[{type:b,value:J}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"ssl_certificate"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"\u002Fetc\u002Fletsencrypt\u002Flive\u002Fdev.ctlos.ru\u002Ffullchain.pem"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:u},children:[{type:b,value:J}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"ssl_certificate_key"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"\u002Fetc\u002Fletsencrypt\u002Flive\u002Fdev.ctlos.ru\u002Fprivkey.pem"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:u},children:[{type:b,value:J}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"include"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"\u002Fetc\u002Fletsencrypt\u002Foptions-ssl-nginx.conf"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:u},children:[{type:b,value:J}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"ssl_dhparam"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"\u002Fetc\u002Fletsencrypt\u002Fssl-dhparams.pem"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:u},children:[{type:b,value:J}]}]},{type:a,tag:g,props:{class:h},children:[]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:v}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:az}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aA}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aB}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aC}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aE}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aF}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aG}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:Y}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:Z}]}]}]}]}]},{type:a,tag:p,props:{},children:[{type:b,value:"Реверс прокси nginx. Пример направления домена на порт 5000 на котором работает не важно какой веб сервис, в данном случае Whoogle."}]},{type:a,tag:l,props:{code:"server {\n  server_name ctlos5lhe2vc3giixr.onion;\n  # reverse proxy\n  location \u002F {\n    proxy_pass http:\u002F\u002Flocalhost:5000;  # Whoogle\n    proxy_redirect off;\n    add_header Onion-Location \"http:\u002F\u002Fctlos5lhe2vc3giixr.onion$request_uri\" always;\n\n    proxy_set_header Host $http_host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header Proxy \"Cloud-LB\";\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_pass_header Server;\n\n    proxy_buffering off;\n    proxy_http_version 1.1;\n    tcp_nodelay on;\n  }\n}\n",language:q,meta:r},children:[{type:a,tag:s,props:{},children:[{type:a,tag:l,props:{__ignoreMap:o},children:[{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:N}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:v}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:u},children:[{type:b,value:"# reverse proxy"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:v}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"proxy_pass"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"http:\u002F\u002Flocalhost:"}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"5000"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:";  "}]},{type:a,tag:c,props:{class:u},children:[{type:b,value:"# Whoogle"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"proxy_redirect"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aH}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aB}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aC}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aE}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aF}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aG}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:A}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"Host"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" $http_host;"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:A}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"X-Real-IP"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" $remote_addr;"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:A}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"X-Forwarded-For"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" $proxy_add_x_forwarded_for;"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:A}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"X-Forwarded-Proto"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" $scheme;"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:A}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"Proxy"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"\"Cloud-LB\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:A}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"Upgrade"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" $http_upgrade;"}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"proxy_pass_header"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"Server"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"proxy_buffering"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aH}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"proxy_http_version"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"1.1"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:n}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"tcp_nodelay"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:e}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:k}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:Y}]}]},{type:a,tag:g,props:{class:h},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:Z}]}]}]}]}]},{type:a,tag:L,props:{},children:[{type:a,tag:B,props:{},children:[{type:a,tag:y,props:{href:"https:\u002F\u002Fctlos.github.io\u002Fdonat\u002F",rel:[C]},children:[{type:b,value:"Поблагодарить меня можно тут"}]}]},{type:a,tag:B,props:{},children:[{type:b,value:"Вопросы и предложения можно оставить в чате "},{type:a,tag:y,props:{href:"https:\u002F\u002Ftelegram.me\u002Fctlos",rel:[C]},children:[{type:b,value:"@ctlos"}]}]}]},{type:a,tag:"style",children:[{type:b,value:".ct-ef48ff{color:#8B949E}\n.ct-562b78{color:#A5D6FF}\n.ct-2fdb93{color:#79C0FF}\n.ct-09e790{color:#C9D1D9}\n.ct-e3a178{color:#FFA657}"}]}],toc:{title:o,searchDepth:x,depth:x,links:[{id:$,depth:x,text:aa},{id:ad,depth:x,text:ae},{id:af,depth:x,text:ag},{id:al,depth:x,text:am},{id:ap,depth:x,text:aq}]}},_type:"markdown",_id:"content:posts:nginx-onion.md",_source:"content",_file:"posts\u002Fnginx-onion.md",_extension:"md"}},prerenderedAt:1682084467830}}("element","text","span","ct-09e790"," ","ct-562b78","div","line","ct-e3a178","ct-2fdb93",";","code","  ","    ","","p","bash",null,"pre","sudo","ct-ef48ff","{","listen",2,"a","\u002F","proxy_set_header","li","nofollow","h2","80",".","        ","server_name","; ","# managed by Certbot","root","ul","tor","server","ctlos5lhe2vc3giixr.onion",false,"nginx","nano","\u002Fvar\u002Flib\u002Ftor\u002Fhidden_service\u002F","blockquote","systemctl","code-inline","location","on","  }","}","Как запустить веб приложение и открыть доступность через tor в доменной зоне onion.","установка-софта","Установка софта","yay","-S","настройка-tor","Настройка tor","генерация-onion-домена-v3","Генерация onion домена v3","https:\u002F\u002Fgithub.com\u002Fcathugger\u002Fmkp224o","-t","~\u002Fhs-keys","-r","права-на-hidden_service","Права на hidden_service","*","restart","настройка-nginx","Настройка nginx","\u002Fusr\u002Fshare\u002Fnginx\u002Fhtml","default_server","\u002Fetc\u002Fnginx\u002Fsites-available\u002Fonion.conf","\u002Fhome\u002Fcretm\u002Fapp\u002Fcloud.ctlos.ru"," [::]:80;","autoindex","try_files"," $uri $uri","=","404","add_header","Onion-Location","\"http:\u002F\u002Fctlos5lhe2vc3giixr.onion","$request_uri","\"","always","off"))
export default (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea){return {data:{posts:[{_path:"\u002Fposts\u002Fwire-hole",_dir:aH,_draft:R,_partial:R,_locale:q,_empty:R,title:"Wireguard, pihole, unbound | предотвращаем утечку dns",description:q,date:"2022-12-17T00:00:00.000Z",type:aI,tags:[ak,"network"],body:{type:ad,children:[{type:a,tag:l,props:{code:"45.138.72.135\nroot\n747AuBOZ7WNt\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:"45.138.72.135"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:ad}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:"747AuBOZ7WNt"}]}]}]}]}]},{type:a,tag:Y,props:{},children:[{type:a,tag:E,props:{},children:[{type:b,value:bI}]},{type:a,tag:E,props:{},children:[{type:b,value:bg}]},{type:a,tag:E,props:{},children:[{type:b,value:"pihole"}]}]},{type:a,tag:l,props:{code:"sudo wg-quick down .\u002Fwghub.conf # if already configured\nsudo wg-quick up .\u002Fwghub.conf\nsudo wg show\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bh}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:am}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# if already configured"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bi}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:am}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bj}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bk}]}]}]}]}]},{type:a,tag:l,props:{code:"apt install wg...\n\n\nwget https:\u002F\u002Fraw.githubusercontent.com\u002Fburghardt\u002Feasy-wg-quick\u002Fmaster\u002Feasy-wg-quick\nchmod +x easy-wg-quick\n.\u002Feasy-wg-quick\n\nsudo cp wghub.conf \u002Fetc\u002Fwireguard\u002Fwghub.conf\nsudo systemctl enable --now wg-quick@wghub\n\n# new client\n.\u002Feasy-wg-quick bla\nsudo cp -r wghub.conf \u002Fetc\u002Fwireguard\u002Fwghub.conf\nsudo systemctl restart wg-quick@wghub\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:"apt"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"install"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"wg..."}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:bl}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bJ}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:bK}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bL}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bM}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:A},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:bN}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bm}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aJ}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aK}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ae}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:aL}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aM}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# new client"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:A},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:bN}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"bla"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bm}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:bn}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aJ}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aK}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aN}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aM}]}]}]}]}]},{type:a,tag:l,props:{code:"# sudo nano \u002Fetc\u002Fsysctl.conf\n\nnet.core.default_qdisc = fq\nnet.ipv4.tcp_congestion_control = bbr\nnet.ipv4.ip_forward = 1\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.conf.all.rp_filter = 1\nnet.ipv4.tcp_syncookies = 1\n\n# sudo sysctl -p\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# sudo nano \u002Fetc\u002Fsysctl.conf"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:"net.core.default_qdisc"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"fq"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:"net.ipv4.tcp_congestion_control"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"bbr"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:"net.ipv4.ip_forward"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:af}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:"net.ipv4.conf.default.rp_filter"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:af}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:"net.ipv4.conf.all.rp_filter"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:af}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:"net.ipv4.tcp_syncookies"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:af}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# sudo sysctl -p"}]}]}]}]}]},{type:a,tag:l,props:{code:"sudo cat \u002Fetc\u002Fwireguard\u002Fwghub.conf\n# open port\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aO}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aK}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# open port"}]}]}]}]}]},{type:a,tag:l,props:{code:"curl -o \u002Fvar\u002Flib\u002Funbound\u002Froot.hints https:\u002F\u002Fwww.internic.net\u002Fdomain\u002Fnamed.cache\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"-o"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"\u002Fvar\u002Flib\u002Funbound\u002Froot.hints"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"https:\u002F\u002Fwww.internic.net\u002Fdomain\u002Fnamed.cache"}]}]}]}]}]},{type:a,tag:l,props:{code:"# mv access-control: 10.134.99.0\u002F24 \u003E wg network | ip a\n# sudo nano \u002Fetc\u002Funbound\u002Funbound.conf.d\u002Fpi-hole.conf\n\nserver:\n    # if no logfile is specified, syslog is used\n    # logfile: \"\u002Fvar\u002Flog\u002Funbound\u002Funbound.log\"\n    verbosity: 1\n    port: 5353\n\n    do-ip4: yes\n    do-udp: yes\n    do-tcp: yes\n\n    # may be set to yes if you have IPv6 connectivity\n    do-ip6: no\n\n    # use this only when you downloaded the list of primary root servers\n    root-hints: \"\u002Fvar\u002Flib\u002Funbound\u002Froot.hints\"\n\n    # respond to DNS requests on all interfaces\n    interface: 0.0.0.0\n    max-udp-size: 3072\n\n    # IPs authorised to access the DNS Server\n    access-control: 0.0.0.0\u002F0                 refuse\n    access-control: 127.0.0.1                 allow\n    access-control: 10.134.99.0\u002F24            allow\n\n    # hide DNS Server info\n    hide-identity: yes\n    hide-version: yes\n\n    # limit DNS fraud and use DNSSEC\n    harden-glue: yes\n    harden-dnssec-stripped: yes\n    harden-referral-path: yes\n\n    # add an unwanted reply threshold to clean the cache and avoid, when possible, DNS poisoning\n    unwanted-reply-threshold: 10000000\n\n    # have the validator print validation failures to the log val-log-level: 1\n    # don't use Capitalisation randomisation as it known to cause DNSSEC issues sometimes\n    # see https:\u002F\u002Fdiscourse.pi-hole.net\u002Ft\u002Funbound-stubby-or-dnscrypt-proxy\u002F9378 for further details\n    use-caps-for-id: no\n\n    # reduce EDNS reassembly buffer size\n    # suggested by the unbound man page to reduce fragmentation reassembly problems\n    edns-buffer-size: 1472\n\n    # TTL bounds for cache\n    cache-min-ttl: 3600\n    cache-max-ttl: 86400\n\n    # perform prefetching of close to expired message cache entries\n    # this only applies to domains that have been frequently queried\n    prefetch: yes\n    prefetch-key: yes\n    # one thread should be sufficient, can be increased on beefy machines\n    num-threads: 1\n    # ensure kernel buffer is large enough to not lose messages in traffic spikes\n    so-rcvbuf: 1m\n\n    # ensure privacy of local IP ranges\n    private-address: 192.168.0.0\u002F16\n    private-address: 169.254.0.0\u002F16\n    private-address: 172.16.0.0\u002F12\n    private-address: 10.0.0.0\u002F8\n    private-address: fd00::\u002F8\n    private-address: fe80::\u002F10\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# mv access-control: 10.134.99.0\u002F24 \u003E wg network | ip a"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# sudo nano \u002Fetc\u002Funbound\u002Funbound.conf.d\u002Fpi-hole.conf"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:"server:"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# if no logfile is specified, syslog is used"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# logfile: \"\u002Fvar\u002Flog\u002Funbound\u002Funbound.log\""}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"verbosity:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:af}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"port:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:aP}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:"    do-ip4: yes"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:"    do-udp: yes"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:"    do-tcp: yes"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# may be set to yes if you have IPv6 connectivity"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:"    do-ip6: no"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# use this only when you downloaded the list of primary root servers"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"root-hints:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"\"\u002Fvar\u002Flib\u002Funbound\u002Froot.hints\""}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# respond to DNS requests on all interfaces"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"interface:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bO}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"max-udp-size:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"3072"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# IPs authorised to access the DNS Server"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:bo}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bp}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:ag}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:bP}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"refuse"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:bo}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:an}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:bP}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:Z}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:bo}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bq}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:az}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:"            "}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:Z}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# hide DNS Server info"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"hide-identity:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ah}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"hide-version:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ah}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# limit DNS fraud and use DNSSEC"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"harden-glue:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ah}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"harden-dnssec-stripped:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ah}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"harden-referral-path:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ah}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# add an unwanted reply threshold to clean the cache and avoid, when possible, DNS poisoning"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"unwanted-reply-threshold:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"10000000"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# have the validator print validation failures to the log val-log-level: 1"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# don't use Capitalisation randomisation as it known to cause DNSSEC issues sometimes"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# see https:\u002F\u002Fdiscourse.pi-hole.net\u002Ft\u002Funbound-stubby-or-dnscrypt-proxy\u002F9378 for further details"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"use-caps-for-id:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"no"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# reduce EDNS reassembly buffer size"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# suggested by the unbound man page to reduce fragmentation reassembly problems"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"edns-buffer-size:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"1472"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# TTL bounds for cache"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"cache-min-ttl:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"3600"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"cache-max-ttl:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"86400"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# perform prefetching of close to expired message cache entries"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# this only applies to domains that have been frequently queried"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"prefetch:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ah}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"prefetch-key:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ah}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# one thread should be sufficient, can be increased on beefy machines"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"num-threads:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:af}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# ensure kernel buffer is large enough to not lose messages in traffic spikes"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"so-rcvbuf:"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"1m"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# ensure privacy of local IP ranges"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"192.168.0.0\u002F"}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:ap}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"169.254.0.0\u002F"}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:ap}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"172.16.0.0\u002F"}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"12"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"10.0.0.0\u002F"}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:bQ}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"fd00::\u002F"}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:bQ}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"fe80::\u002F"}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:br}]}]}]}]}]},{type:a,tag:l,props:{code:"sudo systemctl enable --now unbound\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ae}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:aL}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bI}]}]}]}]}]},{type:a,tag:l,props:{code:"# intfs  wghub\ncurl -sSL https:\u002F\u002Finstall.pi-hole.net | bash\n\nhttp:\u002F\u002Fip\u002Fadmin\n\n# Settings - DNS наш Unbound 127.0.0.1#5353\n\n# open port 5353\ndig pi-hole.net @127.0.0.1 -p 5353  # NOERROR\ndig sigok.verteiltesysteme.net @127.0.0.1 -p 5353\ndig sigfail.verteiltesysteme.net @127.0.0.1 -p 5353  # SERFAIL\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# intfs  wghub"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"-sSL"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"https:\u002F\u002Finstall.pi-hole.net"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:"ct-161fd5"},children:[{type:b,value:bR}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:u}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:"http:\u002F\u002Fip\u002Fadmin"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# Settings - DNS наш Unbound 127.0.0.1#5353"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# open port 5353"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:bs}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"pi-hole.net"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bt}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:ai}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:aP}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# NOERROR"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:bs}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"sigok.verteiltesysteme.net"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bt}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:ai}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:aP}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:bs}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"sigfail.verteiltesysteme.net"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bt}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:ai}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:aP}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:B},children:[{type:b,value:"# SERFAIL"}]}]}]}]}]},{type:a,tag:l,props:{code:"# wg client conf dns \u003E wghub | ip a\n# wg\nnano intnetdns.txt\n\n# replace ip 1.1.1.1 default \u003E wghub ip : 10.148.135.1\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# wg client conf dns \u003E wghub | ip a"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:bS}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:aQ}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"intnetdns.txt"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# replace ip 1.1.1.1 default \u003E wghub ip : 10.148.135.1"}]}]}]}]}]},{type:a,tag:l,props:{code:"# dns wghub ip : 10.148.135.1\n\n# 10: 10 \u003E wgclient_10.conf\n[Interface]\nAddress = 10.148.135.10\u002F24\nDNS = 10.148.135.1\nPrivateKey = oBj9b47cvZaGaCdHQUl1tu6in6L4yoL8hXxUd1EpU1c=\nMTU = 1280\n\n[Peer]\nPublicKey = G7VcOHBqXYFPppKNUZ25RJLjEXEDq+Gsn\u002FjmczX5HB0=\nPresharedKey = LDgByqF8J\u002FTgBI9vE+17aRNWnlJwQoD6i6xZCbwbdBk=\nAllowedIPs = 0.0.0.0\u002F0, ::\u002F0\nEndpoint = 45.138.72.135:44828\nPersistentKeepalive = 25\n\n# open ports\nufw allow ssh\nufw allow 44828\u002Fudp\n\n# net\nufw allow 80\u002Ftcp\nufw allow 53\u002Fudp\n\n# wg\nsudo ufw allow from 10.134.99.0\u002F24 to any port 80\nsudo ufw allow from 10.134.99.0\u002F24 to any port 53\nsudo ufw reject https\n\nss -tulpn\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# dns wghub ip : 10.148.135.1"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# 10: 10 \u003E wgclient_10.conf"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:bT}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:bU}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"10.148.135.10\u002F"}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:az}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:bV}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"10.148.135.1"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:bW}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"oBj9b47cvZaGaCdHQUl1tu6in6L4yoL8hXxUd1EpU1c="}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:"MTU"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"1280"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:bX}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:bY}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"G7VcOHBqXYFPppKNUZ25RJLjEXEDq+Gsn\u002FjmczX5HB0="}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:bZ}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"LDgByqF8J\u002FTgBI9vE+17aRNWnlJwQoD6i6xZCbwbdBk="}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:b_}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bp}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:ag}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aA}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:b$}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:ag}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:ca}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"45.138.72.135:"}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:cb}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:cc}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:cd}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# open ports"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ce}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:cb}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bu}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:"# net"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:aR}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"\u002Ftcp"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:cf}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bu}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:B},children:[{type:b,value:bS}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:cg}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bq}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:az}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ch}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ci}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:aR}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:cg}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:bq}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:az}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ch}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:ci}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:cf}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:"reject"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:cj}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:p},children:[{type:b,value:ck}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:bv}]}]}]}]}]},{type:a,tag:Y,props:{},children:[{type:a,tag:E,props:{},children:[{type:b,value:"45.138.72.135\u002Fadmin"}]},{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:cl,rel:[G]},children:[{type:b,value:cl}]}]},{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:cm,rel:[G]},children:[{type:b,value:cm}]}]}]},{type:a,tag:aS,children:[{type:b,value:".ct-161fd5{color:#FF7B72}\n.ct-15a7aa{color:#79C0FF}\n.ct-df1ed0{color:#8B949E}\n.ct-c46394{color:#A5D6FF}\n.ct-773b39{color:#FFA657}\n.ct-d8b406{color:#C9D1D9}"}]}],toc:{title:q,searchDepth:N,depth:N,links:[]}},_type:aT,_id:"content:posts:wire-hole.md",_source:aU,_file:"posts\u002Fwire-hole.md",_extension:aV},{_path:"\u002Fposts\u002Fweb-server",_dir:aH,_draft:R,_partial:R,_locale:q,_empty:R,title:"Настройка и использование Nginx в Arch Linux | Docker Portainer",description:cn,date:"2021-04-05T00:00:00.000Z",type:aI,tags:[ak,Q,"webserver"],body:{type:ad,children:[{type:a,tag:s,props:{},children:[{type:b,value:cn}]},{type:a,tag:s,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=IFjzUpTjsC4",rel:[G]},children:[{type:b,value:co}]}]},{type:a,tag:ab,props:{id:cp},children:[{type:b,value:cq}]},{type:a,tag:s,props:{},children:[{type:b,value:"Для установки на Arch."}]},{type:a,tag:l,props:{code:"sudo pacman -S nginx\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cr}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:U}]}]}]}]}]},{type:a,tag:Y,props:{},children:[{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"http:\u002F\u002Fnginx.org\u002Fru\u002Fdocs\u002Fbeginners_guide.html",rel:[G]},children:[{type:b,value:"Nginx docs"}]}]},{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fwiki.archlinux.org\u002Findex.php\u002FNginx",rel:[G]},children:[{type:b,value:"ArchWiki Nginx"}]}]},{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fwiki.archlinux.org\u002Ftitle\u002FCertbot",rel:[G]},children:[{type:b,value:"Certbot"}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Глобальный конфиг, при обращении по ip, nginx будет отдавать стандартную страницу, по пути "},{type:a,tag:P,props:{},children:[{type:b,value:"\u002Fusr\u002Fshare\u002Fnginx\u002Fhtml\u002Findex.html"}]},{type:b,value:", некоторые настройки и импорты других конфигураций include, user - указываю юзера creio, от которого я работаю и из его директории в дальнейшем буду импортировать статичный сайт "},{type:a,tag:P,props:{},children:[{type:b,value:cs}]},{type:b,value:", который сгенерирован jekyll, точнее это не его домашняя директория, но права на нее принадлежат ему."}]},{type:a,tag:l,props:{code:"sudo nano \u002Fetc\u002Fnginx\u002Fnginx.conf\n\nuser creio users;\nworker_processes  1;\n#error_log  logs\u002Ferror.log;\n#error_log  logs\u002Ferror.log  notice;\n#error_log  logs\u002Ferror.log  info;\n#pid        logs\u002Fnginx.pid;\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application\u002Foctet-stream;\n    #access_log  logs\u002Faccess.log  main;\n    types_hash_max_size 4096;\n    server_names_hash_bucket_size 128;\n    sendfile        on;\n    #tcp_nopush     on;\n    keepalive_timeout  65;\n    gzip  on;\n\n    server {\n        listen 80 default_server;\n        listen [::]:80 default_server;\n\n        root \u002Fusr\u002Fshare\u002Fnginx\u002Fhtml;\n        index index.htm index.html;\n\n        server_tokens off;\n        autoindex off;\n    }\n\n    include sites-enabled\u002F*;\n}\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aQ}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\u002Fetc\u002Fnginx\u002Fnginx.conf"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:"user"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"creio"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"users"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:"worker_processes"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:af}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"#error_log  logs\u002Ferror.log;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"#error_log  logs\u002Ferror.log  notice;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"#error_log  logs\u002Ferror.log  info;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"#pid        logs\u002Fnginx.pid;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:"events"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"worker_connections"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:"1024"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:aW}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:ct}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:cu}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:"       "}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"mime.types"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"default_type"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"application\u002Foctet-stream"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:"#access_log  logs\u002Faccess.log  main;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"types_hash_max_size"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:"4096"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"server_names_hash_bucket_size"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:"128"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"sendfile"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bw}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:"#tcp_nopush     on;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"keepalive_timeout"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:"65"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"gzip"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bw}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:bx}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:aR}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cv}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:" [::]:80 "}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cv}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:ad}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\u002Fusr\u002Fshare\u002Fnginx\u002Fhtml"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:cw}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cx}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cy}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"server_tokens"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aB}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:cz}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aB}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:aC}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:cu}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"sites-enabled\u002F"}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:"*"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:aW}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Создаем 2 директории в "},{type:a,tag:P,props:{},children:[{type:b,value:"available"}]},{type:b,value:" будем складывать все конфиги сайтов, а в "},{type:a,tag:P,props:{},children:[{type:b,value:"enabled"}]},{type:b,value:" будем создавать сим линки "},{type:a,tag:P,props:{},children:[{type:b,value:"ln -s"}]},{type:b,value:" на то, что хотим включить, если нужно выключить, то просто удаляем конфиг(симлинк) из enabled. Файлы в этих директориях, как зеркала, не важно откуда мы их будем править."}]},{type:a,tag:l,props:{code:"sudo mkdir \u002Fetc\u002Fnginx\u002Fsites-{available,enabled}\nsudo nano \u002Fetc\u002Fnginx\u002Fsites-available\u002Fhome.conf\nsudo ln -s \u002Fetc\u002Fnginx\u002Fsites-available\u002Fhome.conf \u002Fetc\u002Fnginx\u002Fsites-enabled\n# если нужно удалить и не забудь перезапустить nginx\nsudo rm \u002Fetc\u002Fnginx\u002Fsites-enabled\u002Fhome.conf\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cA}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\u002Fetc\u002Fnginx\u002Fsites-{available,enabled}"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aQ}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cB}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"ln"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:cC}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cB}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\u002Fetc\u002Fnginx\u002Fsites-enabled"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"# если нужно удалить и не забудь перезапустить nginx"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aX}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\u002Fetc\u002Fnginx\u002Fsites-enabled\u002Fhome.conf"}]}]}]}]}]},{type:a,tag:as,props:{id:cD},children:[{type:b,value:cE}]},{type:a,tag:s,props:{},children:[{type:b,value:"Проверить конфигурацию на валидность."}]},{type:a,tag:l,props:{code:"sudo nginx -t\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:cF}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Запуск сервера, рестарт, стоп, средствами systemd."}]},{type:a,tag:l,props:{code:"sudo systemctl start nginx\n\nsudo systemctl restart nginx\n\nsudo systemctl stop nginx\n\nsudo systemctl status nginx\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:U}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aN}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:U}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:by}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:U}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aY}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:U}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Добавить в авто старт и убрать, если нужно."}]},{type:a,tag:l,props:{code:"sudo systemctl enable nginx\n\nsudo systemctl disable nginx\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ae}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:U}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cG}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:U}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Просмотр логов в зависимости, что указали в access_log и error_log."}]},{type:a,tag:l,props:{code:"cat \u002Fvar\u002Flog\u002Fnginx\u002Fhome.access\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:aO}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bz}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Я использую "},{type:a,tag:P,props:{},children:[{type:b,value:"server_name домен"}]},{type:b,value:", но можно манипулировать портами, если нет доменного имени, или воспользоваться freedns, no-ip и подобные. В конфиге ниже нет привязки к домену, а именно к порту, можно использовать и то и другое, как вместе, так и отдельно. В данном случае в браузере мы должны обратится "},{type:a,tag:P,props:{},children:[{type:b,value:"ip:port ip:4000"}]},{type:b,value:". Команда ip a покажет ip, обычно это 127.0.0.1(localhost), можно и так "},{type:a,tag:P,props:{},children:[{type:b,value:"localhost:4000"}]},{type:b,value:", "},{type:a,tag:F,props:{href:"https:\u002F\u002Fwww.duckdns.org\u002F",rel:[G]},children:[{type:b,value:"www.duckdns.org\u002F"}]},{type:b,value:S}]},{type:a,tag:l,props:{code:"# cat \u002Fetc\u002Fnginx\u002Fsites-available\u002Fhome.conf\nserver {\n  listen 4000;\n  listen [::]:4000;\n  # server_name creio.duckdns.org;\n\n  root \u002Fmedia\u002Ffiles\u002Fgithub\u002Fctlos\u002Fctlos.github.io\u002F_site;\n  index index.html index.htm index.php;\n\n  access_log \u002Fvar\u002Flog\u002Fnginx\u002Fhome.access;\n  error_log \u002Fvar\u002Flog\u002Fnginx\u002Fhome.error;\n\n  location \u002F {\n      autoindex off;\n      try_files $uri $uri\u002F =404;\n    }\n\n    error_page 404 \u002F404.html;\n    location = \u002F404.html {\n        internal;\n    }\n\n    if ($request_uri = \u002Findex.html) {\n        return 301 \u002F;\n    }\n}\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"# cat \u002Fetc\u002Fnginx\u002Fsites-available\u002Fhome.conf"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:bx}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:bA}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:" [::]:4000;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:"# server_name creio.duckdns.org;"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:ad}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cs}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:cw}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cy}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cx}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"index.php"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:cH}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bz}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:cI}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cJ}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:bB}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:cK}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:cz}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aB}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:cK}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"try_files"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:" $uri $uri"}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:cL}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:aC}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"error_page"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:cL}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cM}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:bB}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cM}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"internal"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:aC}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:cN},children:[{type:b,value:"if"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:" ($request_uri = \u002Findex.html) {"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:cN},children:[{type:b,value:"return"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:"301"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:aC}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:aW}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Пример запуска jekyll, по умолчанию он стартует на localhost "},{type:a,tag:P,props:{},children:[{type:b,value:an}]},{type:b,value:", порт 4000, но через vpn доступа к нему вы не получите, решение указать хост "},{type:a,tag:P,props:{},children:[{type:b,value:"-H 0.0.0.0"}]},{type:b,value:". В этом случае нам локально не нужен запущенный nginx, а сразу же настраиваем реверс на сервере. Jekyll используется для примера, тут может быть любое приложение на любом порту."}]},{type:a,tag:l,props:{code:"bundle exec jekyll serve -H 0.0.0.0\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:"bundle"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"exec"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"jekyll"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"serve"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:"-H"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bO}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Команду можно повесить в авто запуск."}]},{type:a,tag:ab,props:{id:cO},children:[{type:b,value:cP}]},{type:a,tag:s,props:{},children:[{type:b,value:"Конфиг проброса (reverse proxy) локалки на сервер через vpn(wireguard), о его настройке я писал "},{type:a,tag:F,props:{href:cQ},children:[{type:b,value:"тут"}]},{type:b,value:S}]},{type:a,tag:l,props:{code:"curl ident.me\n\nsudo systemctl start wg-quick@wg0\n\nip a\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aZ}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aE}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:"ip"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Важный момент, если вы хотите иметь доступ к работающим докерам в локальной сети из вне, через vpn, находясь за nat с динамическим ip, обязательно используйте host сеть(0.0.0.0) --network host. При создании конфигурации в portainer, выбирайте сеть host для контейнера, или при ручном запуске контейнера указывайте(--network host). Просмотр сведений о сети. "},{type:a,tag:F,props:{href:"https:\u002F\u002Fstackoverflow.com\u002Fq\u002F32103885",rel:[G]},children:[{type:b,value:"stackoverflow.com\u002Fq\u002F32103885"}]},{type:b,value:S}]},{type:a,tag:l,props:{code:"# iproute2\nss -tulpn\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"# iproute2"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:ck}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:bv}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Приложение работает и теперь можно настроить реверс прокси на сервере впн к этому порту, конфиг почти такой же как и в примере выше, только убираем путь root."}]},{type:a,tag:l,props:{code:"cat \u002Fetc\u002Fnginx\u002Fsites-enabled\u002Fhome.ctlos.ru.conf\n# содержимое\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name creio.duckdns.org;\n\n    access_log \u002Fvar\u002Flog\u002Fnginx\u002Fhome.access;\n    error_log \u002Fvar\u002Flog\u002Fnginx\u002Fhome.error;\n\n    # reverse proxy\n    location \u002F {\n        proxy_pass http:\u002F\u002F10.0.0.10:4000;\n        # proxy_redirect http:\u002F\u002F $scheme:\u002F\u002F;\n        proxy_redirect off;\n        proxy_buffering off;\n        tcp_nodelay on;\n\n        proxy_http_version 1.1;\n        proxy_pass_header Server;\n        proxy_set_header Host $http_host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_set_header Proxy \"Cloud-LB\";\n        proxy_set_header Upgrade $http_upgrade;\n    }\n}\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:aO}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\u002Fetc\u002Fnginx\u002Fsites-enabled\u002Fhome.ctlos.ru.conf"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"# содержимое"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:bx}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:aR}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:" [::]:80;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"server_name"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"creio.duckdns.org"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:cH}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bz}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:cI}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cJ}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:"# reverse proxy"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:bB}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"proxy_pass"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"http:\u002F\u002F10.0.0.10:"}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:bA}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:"# proxy_redirect http:\u002F\u002F $scheme:\u002F\u002F;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"proxy_redirect"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aB}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"proxy_buffering"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aB}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"tcp_nodelay"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bw}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"proxy_http_version"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:"1.1"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"proxy_pass_header"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"Server"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"Host"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:" $http_host;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"X-Real-IP"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:" $remote_addr;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"X-Forwarded-For"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:" $proxy_add_x_forwarded_for;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"X-Forwarded-Proto"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:" $scheme;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"Proxy"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"Cloud-LB\""}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:D}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"Upgrade"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:" $http_upgrade;"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:aC}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:aW}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"В "},{type:a,tag:P,props:{},children:[{type:b,value:"proxy_pass http:\u002F\u002F10.0.0.10:4000;"}]},{type:b,value:" указываем ip wg клиента, то есть ваш локальный ip интерфейса wg, команда ip a покажет его. Рестарт nginx и посмотрим статус."}]},{type:a,tag:l,props:{code:"sudo systemctl restart nginx\n\nsudo systemctl status nginx\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aN}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:U}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aY}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:U}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Просмотр отдачи инфы сервером в vpn сети. Должно отдавать одни и теже данные, как локально, так и на сервере."}]},{type:a,tag:l,props:{code:"curl 10.0.0.10:4000\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"10.0.0.10:"}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:bA}]}]}]}]}]},{type:a,tag:a_,props:{},children:[{type:a,tag:s,props:{},children:[{type:b,value:"Таким образом можно создать множество сайтов, пробросить нужные приложения в сеть из локальной сети, но обязательное условие, иметь сервер, иначе в этом мало смысла."}]}]},{type:a,tag:ab,props:{id:cR},children:[{type:b,value:cS}]},{type:a,tag:a_,props:{},children:[{type:a,tag:s,props:{},children:[{type:b,value:"В данном подходе не обязательно иметь сервер и можно забыть о vpn, а организовать все локально, без всяких доступов за nat. Поднять в докерах plex, nextcloud и многое другое, а portainer позволяет легко этим управлять."}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Установка Doker, docker-compose и настройка. "},{type:a,tag:F,props:{href:"https:\u002F\u002Fwiki.archlinux.org\u002Findex.php\u002FDocker",rel:[G]},children:[{type:b,value:"wiki.archlinux.org\u002Findex.php\u002FDocker"}]},{type:b,value:S}]},{type:a,tag:l,props:{code:"sudo pacman -S docker-compose\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cr}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"docker-compose"}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Добавляем пользователя от которого работаем(username) в группу docker."}]},{type:a,tag:l,props:{code:"sudo usermod -aG docker username\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"usermod"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:"-aG"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"username"}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Возможно стоит перезагрузиться. Включаем сервис и добавляем в авто-старт, если нужно."}]},{type:a,tag:l,props:{code:"sudo systemctl start docker\n\nsudo systemctl enable docker\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:Q}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ae}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:Q}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Portainer — веб интерфейс на 9000 порту, для управления docker контейнерами. "},{type:a,tag:F,props:{href:"https:\u002F\u002Fdocumentation.portainer.io\u002Fv2.0\u002Fdeploy\u002Fceinstalldocker\u002F",rel:[G]},children:[{type:b,value:"documentation portainer"}]},{type:b,value:". Создадим диск "},{type:a,tag:P,props:{},children:[{type:b,value:bC}]},{type:b,value:", как сказано в доках."}]},{type:a,tag:l,props:{code:"docker volume create portainer_data\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cT}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"create"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bC}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Одна из команд ниже запустит portainer, о хост сети я уже говорил выше, но можно и использовать 2 команду, только необходимо немного ковырнуть докер. В случае отказа запуска сервиса docker, попробуйте. "},{type:a,tag:F,props:{href:"https:\u002F\u002Fwiki.archlinux.org\u002Findex.php\u002FDocker#Daemon_socket",rel:[G]},children:[{type:b,value:"wiki.archlinux.org"}]},{type:b,value:S}]},{type:a,tag:l,props:{code:"sudo systemctl daemon-reload\nsudo rm -rf \u002Fvar\u002Frun\u002Fdocker.sock\nsudo systemctl restart docker\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"daemon-reload"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aX}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:"-rf"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\u002Fvar\u002Frun\u002Fdocker.sock"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aN}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:Q}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Если вы изменили socket, как сказано в вики, то используйте вторую команду, контейнер будет доступен в vpn сети на 9000 порту."}]},{type:a,tag:l,props:{code:"# запуск в host сети\ndocker run -d --network host --name=portainer --restart=always -v \u002Fvar\u002Frun\u002Fdocker.sock:\u002Fvar\u002Frun\u002Fdocker.sock -v portainer_data:\u002Fdata portainer\u002Fportainer-ce --logo \"https:\u002F\u002Fctlos.github.io\u002Fassets\u002Fimg\u002Flogo.svg\"\n\n# bridge ports, portainer-ce\ndocker run -d -p 9000:9000 --name=portainer --restart=always -v \u002Fvar\u002Frun\u002Fdocker.sock:\u002Fvar\u002Frun\u002Fdocker.sock -v portainer_data:\u002Fdata portainer\u002Fportainer-ce --logo \"https:\u002F\u002Fctlos.github.io\u002Fassets\u002Fimg\u002Flogo.svg\"\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"# запуск в host сети"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cU}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:cV}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:"--network"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"host"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:cW}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:cX}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:a$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cY}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:a$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cZ}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:c_}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:c$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:da}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"# bridge ports, portainer-ce"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cU}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:cV}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:ai}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:db}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:db}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:cW}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:cX}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:a$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cY}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:a$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cZ}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:c_}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:C},children:[{type:b,value:c$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:da}]}]}]}]}]},{type:a,tag:as,props:{id:dc},children:[{type:b,value:dd}]},{type:a,tag:l,props:{code:"# список контейнеров\ndocker ps\n\n# остановка ID или Name\ndocker stop portainer\n\n# запуск ID или Name\ndocker start fc46d04d334d\n\n# удалить\ndocker rm portainer\n\n# удалить диск\ndocker volume rm portainer_data\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"# список контейнеров"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"ps"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"# остановка ID или Name"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:by}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:de}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"# запуск ID или Name"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"fc46d04d334d"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"# удалить"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aX}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:de}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:M},children:[{type:b,value:"# удалить диск"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:n},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cT}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aX}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bC}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Многое можно делать в терминале, точнее все. Рекомендую детальней изучить docker-compose, "},{type:a,tag:F,props:{href:"https:\u002F\u002Fdocs.docker.com\u002F",rel:[G]},children:[{type:b,value:"docs.docker.com\u002F"}]},{type:b,value:S}]},{type:a,tag:aS,children:[{type:b,value:".ct-dd7480{color:#FF7B72}\n.ct-8bdf7b{color:#8B949E}\n.ct-3ce087{color:#79C0FF}\n.ct-595961{color:#A5D6FF}\n.ct-a05207{color:#C9D1D9}\n.ct-4db9be{color:#FFA657}"}]}],toc:{title:q,searchDepth:N,depth:N,links:[{id:cp,depth:N,text:cq,children:[{id:cD,depth:av,text:cE}]},{id:cO,depth:N,text:cP},{id:cR,depth:N,text:cS,children:[{id:dc,depth:av,text:dd}]}]}},_type:aT,_id:"content:posts:web-server.md",_source:aU,_file:"posts\u002Fweb-server.md",_extension:aV},{_path:cQ,_dir:aH,_draft:R,_partial:R,_locale:q,_empty:R,title:"Как Создать и Настроить VPN сервер в Linux | Wireguard",description:df,date:"2021-01-31T00:00:00.000Z",type:aI,tags:[ak],body:{type:ad,children:[{type:a,tag:s,props:{},children:[{type:b,value:df}]},{type:a,tag:Y,props:{},children:[{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=4FmWp04auX4",rel:[G]},children:[{type:b,value:co}]}]},{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fm.do.co\u002Fc\u002F49c4dbf3d0ca",rel:[G]},children:[{type:b,value:"Всё реализовано в дроплете Digital Ocean"}]}]},{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:dg},children:[{type:b,value:"Psiphon о котором я уже упоминал в прошлом посте"}]}]},{type:a,tag:E,props:{},children:[{type:b,value:"Ssh туннель через сервер в tor"}]},{type:a,tag:E,props:{},children:[{type:b,value:"Sshuttle прокси"}]},{type:a,tag:E,props:{},children:[{type:b,value:bD}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Гуляем по сети, как рыбы в океане :)."}]},{type:a,tag:ab,props:{id:dh},children:[{type:b,value:di}]},{type:a,tag:s,props:{},children:[{type:b,value:"Установить ssh."}]},{type:a,tag:l,props:{code:"yay -S openssh\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:aj}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"openssh"}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Допустим на вашем сервере запущен tor или прокси, через ssh легко можно пробросить порт на котором это работает. Про настройку ssh я писал в ctlos wiki."}]},{type:a,tag:Y,props:{},children:[{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fctlos.github.io\u002Fwiki\u002Fconfig\u002Fssh\u002F",rel:[G]},children:[{type:b,value:"Ctlos wiki ssh"}]}]},{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fwiki.archlinux.org\u002Findex.php\u002FOpenSSH",rel:[G]},children:[{type:b,value:"OpenSSH"}]}]},{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fwiki.archlinux.org\u002Findex.php\u002Ftor",rel:[G]},children:[{type:b,value:"Tor"}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Установить tor."}]},{type:a,tag:l,props:{code:"yay -S tor torsocks\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:aj}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"tor"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"torsocks"}]}]}]}]}]},{type:a,tag:l,props:{code:"ssh -L 9050:127.0.0.1:9050 -p 22 cretm@134.122.88.241 -N\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:ce}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"-L"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dj}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:":127.0.0.1:"}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dj}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:ai}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dk}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dl}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"-N"}]}]}]}]}]},{type:a,tag:Y,props:{},children:[{type:a,tag:E,props:{},children:[{type:b,value:"127.0.0.1(localhost) — локальный адрес."}]},{type:a,tag:E,props:{},children:[{type:b,value:"Первый 9050, локальный порт."}]},{type:a,tag:E,props:{},children:[{type:b,value:"Второй 9050, на сервере."}]},{type:a,tag:E,props:{},children:[{type:b,value:"-N говорит не открывать соединение, а только проброс."}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Теперь локально доступен 9050 и можно открыть на нем chromium в другом терминале."}]},{type:a,tag:l,props:{code:"chromium --proxy-server='socks:\u002F\u002F127.0.0.1:9050'\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:dm}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dn}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"'socks:\u002F\u002F127.0.0.1:9050'"}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Или посмотреть ip через torify, или запустить шелл и выполнять все через tor."}]},{type:a,tag:l,props:{code:"torify curl ident.me\n# или\ntorify zsh\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:do0}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aZ}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:ba},children:[{type:b,value:dp}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:do0}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"zsh"}]}]}]}]}]},{type:a,tag:ab,props:{id:bb},children:[{type:b,value:dq}]},{type:a,tag:s,props:{},children:[{type:b,value:"Позволяет завернуть весь трафик через ssh сервер."}]},{type:a,tag:s,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fgithub.com\u002Fsshuttle\u002Fsshuttle",rel:[G]},children:[{type:b,value:"repo"}]}]},{type:a,tag:s,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F318694\u002F",rel:[G]},children:[{type:b,value:"Статейка habr"}]}]},{type:a,tag:s,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Feax.me\u002Fsshuttle\u002F",rel:[G]},children:[{type:b,value:"И еще одна"}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Установка."}]},{type:a,tag:l,props:{code:"yay -S sshuttle\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:aj}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bb}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Запуск."}]},{type:a,tag:l,props:{code:"sshuttle --dns -r cretm@134.122.88.241 -x 134.122.88.241 0\u002F0\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:bb}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"--dns"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:bn}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dl}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"-x"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dr}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:ag}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:ag}]}]}]}]}]},{type:a,tag:ab,props:{id:bg},children:[{type:b,value:bD}]},{type:a,tag:s,props:{},children:[{type:b,value:"Я все проделываю скриптом easy-wg-quick."}]},{type:a,tag:Y,props:{},children:[{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fwiki.archlinux.org\u002Findex.php\u002FWireGuard",rel:[G]},children:[{type:b,value:"Arch Wiki wireguard"}]}]},{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fgithub.com\u002Fburghardt\u002Feasy-wg-quick",rel:[G]},children:[{type:b,value:bM}]}]},{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fwww.wireguard.com\u002Fquickstart\u002F",rel:[G]},children:[{type:b,value:"wireguard quickstart"}]}]}]},{type:a,tag:as,props:{id:ds},children:[{type:b,value:dt}]},{type:a,tag:l,props:{code:"yay -S wireguard-tools gawk grep iproute2 net-tools qrencode wget\n\n# если ядро lts\nyay -S wireguard-lts\n\nmkdir vpn && cd vpn\n\nwget -O vpn.sh https:\u002F\u002Fraw.githubusercontent.com\u002Fburghardt\u002Feasy-wg-quick\u002Fmaster\u002Feasy-wg-quick\n\nchmod +x vpn.sh\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:aj}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:du}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"gawk"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"grep"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"iproute2"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"net-tools"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dv}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bl}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:ba},children:[{type:b,value:"# если ядро lts"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:aj}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"wireguard-lts"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:cA}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ak}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:" && "}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"cd"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ak}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:bl}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"-O"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dw}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bJ}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:bK}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bL}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dw}]}]}]}]}]},{type:a,tag:a_,props:{},children:[{type:a,tag:s,props:{},children:[{type:b,value:"Выполните reboot после установки."}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Можно задать конкретный порт и ip. Узнать."}]},{type:a,tag:Y,props:{},children:[{type:a,tag:E,props:{},children:[{type:b,value:"Если за nat curl ident.me"}]},{type:a,tag:E,props:{},children:[{type:b,value:"Нет nat ip a"}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Путем отправки данных в файлы."}]},{type:a,tag:l,props:{code:"curl ident.me \u003E extnetip.txt\n# или\necho 134.122.88.241 \u003E extnetip.txt\n\necho 51820 \u003E portno.txt\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aZ}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:aF},children:[{type:b,value:bE}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dx}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:ba},children:[{type:b,value:dp}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:t},children:[{type:b,value:dy}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dr}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:aF},children:[{type:b,value:bE}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dx}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:t},children:[{type:b,value:dy}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:bc}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:aF},children:[{type:b,value:bE}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"portno.txt"}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Создание конфигурации и клиента."}]},{type:a,tag:l,props:{code:".\u002Fvpn.sh comp\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:t},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:y},children:[{type:b,value:dz}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"comp"}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Запуск, остановка, статус работы."}]},{type:a,tag:l,props:{code:"sudo wg-quick up .\u002Fwghub.conf\nsudo wg-quick down .\u002Fwghub.conf\nsudo wg show\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bi}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:am}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bh}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:am}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bj}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bk}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Открыть порт если установлен файрвол, рестарт и просмотр статуса."}]},{type:a,tag:l,props:{code:"sudo ufw allow 51820\u002Fudp\nsudo ufw reload\nsudo ufw status\nnetstat -tulpn\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:bc}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bu}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"reload"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aY}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:"netstat"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:bv}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Если на сервере iptables."}]},{type:a,tag:l,props:{code:"sudo iptables --policy INPUT ACCEPT\nsudo iptables -F\nsudo iptables -A INPUT -p tcp --dport 22 -m state --state NEW -j ACCEPT\nsudo iptables -A INPUT -p udp --dport 51820 -m state --state NEW -j ACCEPT\nsudo netfilter-persistent save\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"--policy"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bd}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bF}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"-F"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dA}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bd}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:ai}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"tcp"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dB}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dk}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dC}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dD}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dE}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dF}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dG}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bF}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dA}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bd}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:ai}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"udp"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dB}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:bc}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dC}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dD}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dE}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dF}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dG}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bF}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dH}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dI}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Удалить правило, где 5 линия. В данном случае удалять ничего не нужно, просто знайте, как работает удаление."}]},{type:a,tag:l,props:{code:"sudo iptables --list --line-numbers\nsudo iptables -D INPUT 5\nsudo netfilter-persistent save\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"--list"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"--line-numbers"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"-D"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bd}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"5"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dH}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dI}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Создаем второго клиента для мобилки. Сканируем qr в приложении wireguard и перезапускаем сервер."}]},{type:a,tag:l,props:{code:".\u002Fvpn.sh mob\nsudo wg-quick down .\u002Fwghub.conf\nsudo wg-quick up .\u002Fwghub.conf\nsudo wg show\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:t},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:y},children:[{type:b,value:dz}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"mob"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bh}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:am}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bi}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:am}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bj}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bk}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Вывод qr кода."}]},{type:a,tag:l,props:{code:"qrencode -t ansiutf8 \u003C wgclient_mob.conf\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:dv}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:cF}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"ansiutf8"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:aF},children:[{type:b,value:"\u003C"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"wgclient_mob.conf"}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Основной конфиг с инфой о клиентах."}]},{type:a,tag:l,props:{code:"cat wghub.conf\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:aO}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aJ}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Можно добавить в автостарт systemd."}]},{type:a,tag:l,props:{code:"sudo cp wghub.conf \u002Fetc\u002Fwireguard\u002Fwghub.conf\nsudo systemctl enable --now wg-quick@wghub\nsystemctl status wg-quick@wghub\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bm}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aJ}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aK}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ae}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:aL}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aM}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aY}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aM}]}]}]}]}]},{type:a,tag:as,props:{id:dJ},children:[{type:b,value:dK}]},{type:a,tag:s,props:{},children:[{type:b,value:"Для клиента Arch Linux. Настройка на вашем компе."}]},{type:a,tag:l,props:{code:"yay -S wireguard-tools\nsudo nano \u002Fetc\u002Fwireguard\u002Fwg0.conf\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:aj}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:du}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aQ}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"\u002Fetc\u002Fwireguard\u002Fwg0.conf"}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Скопировать с сервера содержимое файла "},{type:a,tag:P,props:{},children:[{type:b,value:"wgclient_comp.conf"}]},{type:b,value:", пример."}]},{type:a,tag:l,props:{code:"# 10: comp \u003E wgclient_comp.conf\n[Interface]\nAddress = 10.256.112.10\u002F24, fd51:9999:3322:6414::10\u002F64\nDNS = 1.1.1.1, 2606:4700:4700::1111\nPrivateKey = UGdsdfgsdgdfgiJRhlQdX7kQ=\n\n[Peer]\nPublicKey = wvr\u002Fgmg\u002FFJN0dfgdfhdfhudRLdIdn+2DQ=\nPresharedKey = \u002FDXNfgNi2iMY5jrdgdfgdgu5tyIX94Xvss=\nAllowedIPs = 0.0.0.0\u002F0, ::\u002F0\nEndpoint = 134.111.10.21:51820\nPersistentKeepalive = 25\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:ba},children:[{type:b,value:"# 10: comp \u003E wgclient_comp.conf"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:bT}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:bU}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"10.256.112.10\u002F"}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:az}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aA}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"fd51:"}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"9999"}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"3322"}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"6414"}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dL}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:br}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"64"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:bV}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"1.1.1.1,"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"2606"}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dM}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:dM}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:dL}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"1111"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:bW}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"UGdsdfgsdgdfgiJRhlQdX7kQ="}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:bX}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:bY}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"wvr\u002Fgmg\u002FFJN0dfgdfhdfhudRLdIdn+2DQ="}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:bZ}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"\u002FDXNfgNi2iMY5jrdgdfgdgu5tyIX94Xvss="}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:b_}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bp}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:ag}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aA}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:b$}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:ag}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:ca}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"134.111.10.21:"}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:bc}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:cc}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:cd}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Включить сервис systemd и добавить в автостарт если нужно."}]},{type:a,tag:l,props:{code:"sudo systemctl start wg-quick@wg0\n\nsudo systemctl enable wg-quick@wg0\n\nsudo systemctl enable --now systemd-resolved\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aE}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ae}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aE}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ae}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:aL}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"systemd-resolved"}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Имейте ввиду если на сервере, что-то не так, то и у вас не будет интернета при включенном сервисе. Остановить, выключить."}]},{type:a,tag:l,props:{code:"sudo systemctl stop wg-quick@wg0\n\nsudo systemctl disable wg-quick@wg0\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:by}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aE}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:cG}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aE}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Проверить ip можно на "},{type:a,tag:F,props:{href:"https:\u002F\u002F2ip.ru",rel:[G]},children:[{type:b,value:"2ip.ru"}]},{type:b,value:", в терминале."}]},{type:a,tag:l,props:{code:"curl ident.me\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aZ}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Проверить скорость интернета."}]},{type:a,tag:l,props:{code:"curl -s https:\u002F\u002Fraw.githubusercontent.com\u002Fsivel\u002Fspeedtest-cli\u002Fmaster\u002Fspeedtest.py | python -\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:y},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:cC}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"https:\u002F\u002Fraw.githubusercontent.com\u002Fsivel\u002Fspeedtest-cli\u002Fmaster\u002Fspeedtest.py"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:aF},children:[{type:b,value:bR}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:y},children:[{type:b,value:"python"}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"-"}]}]}]}]}]},{type:a,tag:aS,children:[{type:b,value:".ct-46d888{color:#FF7B72}\n.ct-4bfea8{color:#8B949E}\n.ct-188050{color:#A5D6FF}\n.ct-792ee7{color:#79C0FF}\n.ct-41c7e6{color:#C9D1D9}\n.ct-868cf1{color:#FFA657}"}]}],toc:{title:q,searchDepth:N,depth:N,links:[{id:dh,depth:N,text:di},{id:bb,depth:N,text:dq},{id:bg,depth:N,text:bD,children:[{id:ds,depth:av,text:dt},{id:dJ,depth:av,text:dK}]}]}},_type:aT,_id:"content:posts:vpn.md",_source:aU,_file:"posts\u002Fvpn.md",_extension:aV},{_path:dg,_dir:aH,_draft:R,_partial:R,_locale:q,_empty:R,title:"Psiphon linux, обходим блокировку трафика",description:dN,date:"2020-08-10T00:00:00.000Z",type:aI,tags:[ak],body:{type:ad,children:[{type:a,tag:s,props:{},children:[{type:b,value:dN}]},{type:a,tag:ab,props:{id:dO},children:[{type:b,value:dP}]},{type:a,tag:s,props:{},children:[{type:b,value:"В aur лежит пакет."}]},{type:a,tag:Y,props:{},children:[{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Faur.archlinux.org\u002Fpackages\u002Fbrainfuck-psiphon-pro-go-bin\u002F",rel:[G]},children:[{type:b,value:bG}]}]},{type:a,tag:E,props:{},children:[{type:a,tag:F,props:{href:"https:\u002F\u002Fgithub.com\u002Faztecrabbit\u002Fbrainfuck-psiphon-pro-go",rel:[G]},children:[{type:b,value:"Репо проекта"}]}]}]},{type:a,tag:ab,props:{id:dQ},children:[{type:b,value:dR}]},{type:a,tag:l,props:{code:"yay -S brainfuck-psiphon-pro-go-bin\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:V},children:[{type:b,value:aj}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:"brainfuck-psiphon-pro-go-bin"}]}]}]}]}]},{type:a,tag:as,props:{id:dS},children:[{type:b,value:dT}]},{type:a,tag:s,props:{},children:[{type:b,value:"Запуск командой sudo brainfuck-psiphon-pro-go. Увидите примерно такой вывод."}]},{type:a,tag:l,props:{code:"Brainfuck Tunnel [Psiphon Pro Go Version. 1.3.210109]\n(c) 2020 Aztec Rabbit.\n\n[17:15:55] :: INFO :: Domain Fronting running on port 8989\n[17:15:55] :: INFO :: Proxy Rotator running on port 3080\n[17:15:55] :: 3081 :: Connecting\n[17:15:55] :: 3082 :: Connecting\n[17:15:55] :: 3084 :: Connecting\n[17:15:55] :: 3083 :: Connecting\n[17:16:08] :: 3083 :: Connected\n[17:16:09] :: 3082 :: Connected\n[17:16:09] :: 3081 :: Connected\n[17:16:10] :: 3084 :: Connected\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:V},children:[{type:b,value:"Brainfuck"}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:"Tunnel"}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:" [Psiphon Pro Go Version. 1.3.210109]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"("}]},{type:a,tag:c,props:{class:V},children:[{type:b,value:"c"}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:") "}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:"2020"}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:" Aztec Rabbit."}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"] :: INFO :: Domain Fronting running on port "}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:"8989"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"] :: INFO :: Proxy Rotator running on port "}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:aG}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:dU}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:be}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:dV}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:be}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:dW}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:be}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:dX}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:be}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:"08"}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:dX}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:bf}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:dY}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:dV}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:bf}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:dY}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:dU}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:bf}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:br}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:dW}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:bf}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Можно запустить с использованием региона (us,nl,sg)."}]},{type:a,tag:l,props:{code:"sudo brainfuck-psiphon-pro-go -r nl\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:V},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:bG}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:bn}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:"nl"}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Прописываем прокси в браузере, или в telegram. Прокси ратируются на портах 3080-3084 в моем случае, наверняка у вас также."}]},{type:a,tag:l,props:{code:"http proxy: 127.0.0.1 port 3080\nhttps proxy: 127.0.0.1 port 3080\nftp proxy: 127.0.0.1 port 3080\nsocks: 127.0.0.1 port 3080\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:V},children:[{type:b,value:ct}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:bH}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:an}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:aG}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:V},children:[{type:b,value:cj}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:bH}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:an}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:aG}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:V},children:[{type:b,value:"ftp"}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:bH}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:an}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:aG}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:V},children:[{type:b,value:"socks:"}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:an}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:aG}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Chromium можно запустить с флагом."}]},{type:a,tag:l,props:{code:"chromium --proxy-server='socks:\u002F\u002F127.0.0.1:3080'\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:V},children:[{type:b,value:dm}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:dn}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:"'socks:\u002F\u002F127.0.0.1:3080'"}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"В firefox используйте расширение FoxyProxy, или в параметрах сети укажите только SOCKS5."}]},{type:a,tag:a_,props:{},children:[{type:a,tag:s,props:{},children:[{type:b,value:"В настройках расширения, Добавить новый SOCKS5, ip: 127.0.0.1, port: 3080"}]}]},{type:a,tag:as,props:{id:dZ},children:[{type:b,value:d_}]},{type:a,tag:s,props:{},children:[{type:b,value:"Можно изменить "},{type:a,tag:P,props:{},children:[{type:b,value:"ProxyRotator"}]},{type:b,value:" порт, если нужно."}]},{type:a,tag:l,props:{code:"# nano ~\u002F.config\u002Fbrainfuck-psiphon-pro-go\u002Fconfig.json\n\n{\n  \"ProxyRotator\": {\n    \"Port\": \"3080\"\n  },\n  \"Inject\": {\n    \"Enable\": true,\n    \"Type\": 2,\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:"ct-8ceb4e"},children:[{type:b,value:"# nano ~\u002F.config\u002Fbrainfuck-psiphon-pro-go\u002Fconfig.json"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:K},children:[{type:b,value:"  \"ProxyRotator\""}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:K},children:[{type:b,value:"    \"Port\""}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:" \"3080\""}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"  },"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:K},children:[{type:b,value:"  \"Inject\""}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:K},children:[{type:b,value:"    \"Enable\""}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:ea}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:"true"}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:aA}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:K},children:[{type:b,value:"    \"Type\""}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:ea}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:"2"}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:aA}]}]}]}]}]},{type:a,tag:s,props:{},children:[{type:b,value:"Help."}]},{type:a,tag:l,props:{code:"sudo brainfuck-psiphon-pro-go -h\n",language:u,meta:v},children:[{type:a,tag:w,props:{},children:[{type:a,tag:l,props:{__ignoreMap:q},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:V},children:[{type:b,value:x}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:K},children:[{type:b,value:bG}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:d}]},{type:a,tag:c,props:{class:z},children:[{type:b,value:"-h"}]}]}]}]}]},{type:a,tag:aS,children:[{type:b,value:".ct-8ceb4e{color:#8B949E}\n.ct-b7464e{color:#A5D6FF}\n.ct-466935{color:#79C0FF}\n.ct-fd90c9{color:#C9D1D9}\n.ct-7aa69c{color:#FFA657}"}]}],toc:{title:q,searchDepth:N,depth:N,links:[{id:dO,depth:N,text:dP},{id:dQ,depth:N,text:dR,children:[{id:dS,depth:av,text:dT},{id:dZ,depth:av,text:d_}]}]}},_type:aT,_id:"content:posts:psiphon.md",_source:aU,_file:"posts\u002Fpsiphon.md",_extension:aV}]},prerenderedAt:1681411565832}}("element","text","span"," ","div","line","ct-a05207","ct-d8b406","ct-41c7e6","ct-595961","ct-188050","code","ct-c46394","ct-4db9be","ct-fd90c9","ct-773b39","","    ","p","ct-792ee7","bash",null,"pre","sudo","ct-868cf1","ct-466935","ct-15a7aa","ct-df1ed0","ct-3ce087",";","li","a","nofollow",":","=","systemctl","ct-b7464e","        ","ct-8bdf7b",2,"  ","code-inline","docker",false,".","ufw","nginx","ct-7aa69c","[","17","ul","allow","-S","{","curl","h2","] :: ","root","enable","1","0","yes","-p","yay","vpn","wg-quick",".\u002Fwghub.conf","127.0.0.1","private-address:","16","port","listen","h3","\u002F","proxy_set_header",3,"iptables","15","55","24",",","off","    }","start","wg-quick@wg0","ct-46d888","3080","posts","post","wghub.conf","\u002Fetc\u002Fwireguard\u002Fwghub.conf","--now","wg-quick@wghub","restart","cat","5353","nano","80","style","markdown","content","md","}","rm","status","ident.me","blockquote","-v","ct-4bfea8","sshuttle","51820","INPUT"," :: Connecting"," :: Connected","wireguard","down","up","wg","show","wget","cp","-r","access-control:","0.0.0.0\u002F","10.134.99.0\u002F","10","dig","@127.0.0.1","\u002Fudp","-tulpn","on","server","stop","\u002Fvar\u002Flog\u002Fnginx\u002Fhome.access","4000","location","portainer_data","Wireguard","\u003E","ACCEPT","brainfuck-psiphon-pro-go","proxy:","unbound","https:\u002F\u002Fraw.githubusercontent.com\u002Fburghardt\u002Feasy-wg-quick\u002Fmaster\u002Feasy-wg-quick","chmod","+x","easy-wg-quick","\u002Feasy-wg-quick","0.0.0.0","                 ","8","|","# wg","[Interface]","Address","DNS","PrivateKey","[Peer]","PublicKey","PresharedKey","AllowedIPs","::\u002F","Endpoint","44828","PersistentKeepalive","25","ssh","53","from","to","any","https","ss","http:\u002F\u002Fpi.hole\u002Fadmin","https:\u002F\u002Fdnsleak.com","Nginx reverse proxy, проброс локальной сети на сервер, через wireguard. Portainer — gui для docker контейнеров.","Video","nginx-локально","Nginx локально","pacman","\u002Fmedia\u002Ffiles\u002Fgithub\u002Fctlos\u002Fctlos.github.io\u002F_site","http","include","default_server","index","index.htm","index.html","autoindex","mkdir","\u002Fetc\u002Fnginx\u002Fsites-available\u002Fhome.conf","-s","команды-nginx","Команды nginx","-t","disable","access_log","error_log","\u002Fvar\u002Flog\u002Fnginx\u002Fhome.error","      ","404","\u002F404.html","ct-dd7480","nginx-на-сервере","Nginx на сервере","\u002Fposts\u002Fvpn","docker-portainer","Docker Portainer","volume","run","-d","--name=portainer","--restart=always","\u002Fvar\u002Frun\u002Fdocker.sock:\u002Fvar\u002Frun\u002Fdocker.sock","portainer_data:\u002Fdata","portainer\u002Fportainer-ce","--logo","\"https:\u002F\u002Fctlos.github.io\u002Fassets\u002Fimg\u002Flogo.svg\"","9000","команды-docker","Команды docker","portainer","Речь пойдет о шифровании трафика в сети и обходе блокировок, рассмотрю несколько способов.","\u002Fposts\u002Fpsiphon","ssh-туннель","Ssh туннель","9050","22","cretm@134.122.88.241","chromium","--proxy-server=","torify","# или","Sshuttle","134.122.88.241","сервер","Сервер","wireguard-tools","qrencode","vpn.sh","extnetip.txt","echo","\u002Fvpn.sh","-A","--dport","-m","state","--state","NEW","-j","netfilter-persistent","save","клиент","Клиент","::","4700","Обходим блокировку сайтов с помощью psiphon.","archlinux","Archlinux","установка","Установка","использование","Использование","3081","3082","3084","3083","09","конфигурация","Конфигурация",": {",": "))